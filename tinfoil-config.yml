shim-version: v0.3.17@sha256:6dff221ec3c4de5c4f44472bc21b47574b7d118902aaa0a55fd367eeaa1f33c5
cvm-version: 0.6.7
cpus: 16
memory: 65536
gpus: full

models:
  - name: "gpt-oss-safeguard-120b"
    repo: "openai/gpt-oss-safeguard-120b@3c7391182603991a904031244e7822488c67796d"
    mpk: "7a279c6d7739f7ded0cf859f1bf83893543a94a455e9b27e5cbcb1abe5d893a6_65276887040_4f87cf5d-d297-5a82-83e6-4ea897937d7a"

containers:
  - name: "gpt-oss-safeguard-120b"
    image: "vllm/vllm-openai:v0.13.0@sha256:d623253f2ba246378421c9642e20885e65257f38418ff26d48c81aea1702521b"
    runtime: nvidia
    gpus: all
    ipc: host
    command: [
      "--model", "/tinfoil/mpk/mpk-7a279c6d7739f7ded0cf859f1bf83893543a94a455e9b27e5cbcb1abe5d893a6",
      "--served-model-name", "gpt-oss-safeguard-120b",
      "--enable-auto-tool-choice",
      "--tool-call-parser", "openai",
      "--gpu-memory-utilization", "0.95",
      "--port", "8001"
    ]

shim:
  listen-port: 443
  upstream-port: 8001
  authenticated: true 
  paths:
    - /v1/chat/completions
    - /metrics
    - /v1/responses
    - /health
